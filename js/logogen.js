(()=>{function $(o){let b=o.length;if(b>65536)throw new Error("TOO_MANY_FILES");let c=6+16*b,y=c;for(let f of o)y+=f.bytes.byteLength;let w=new Uint8Array(y);w.set([0,0,1,0,..._(b)],0);let s=c;for(let f=0;f<o.length;f++){let I=6+16*f,d=o[f],A=d.width,v=d.height;if(A>256||v>256)throw new Error("INVALID_SIZE");w.set([A,v,0,0,0,0,...d.bpp?_(d.bpp):[0,0],...R(d.bytes.byteLength),...R(s)],I),w.set(new Uint8Array(d.bytes),s),s+=d.bytes.byteLength}return w}function _(o){return[o&255,o>>8&255]}function R(o){return[o&255,o>>8&255,o>>16&255,o>>24&255]}function D(o){let b=8;for(let s of o)b+=8+s.bytes.byteLength;let c=new Uint8Array(b),y=0,w=s=>{c.set(s,y),y+=Array.isArray(s)?s.length:s.byteLength};w([105,99,110,115,...F(c.byteLength)]);for(let s of o){let f=s.type.split("").map(I=>I.charCodeAt(0));if(f.length!==4)throw new Error("Input type must have exactly 4 chars, got "+s.type);w([...f,...F(s.bytes.byteLength+8)]),w(new Uint8Array(s.bytes))}return c}function F(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]}function j(o){document.readyState!=="loading"?o():document.addEventListener("DOMContentLoaded",o)}j(()=>{let o=fish("#arrow-input"),b=fish("#arrow"),c=fish("#logo-bg-input"),y=fish("#logo-bg"),w=fish("#reset-button"),s=fish("#color-presets"),f=fish("#randomize-button"),I=document.querySelector("#custom-logo"),d=new Image;function A(){let n=new XMLSerializer().serializeToString(I);d.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function v(e,n){let t=document.createElement("a");t.href=e,t.download=n,t.click()}function C(e,n=0){let t=document.createElement("canvas");t.width=e,t.height=e;let r=t.getContext("2d");return r.clearRect(0,0,e,e),r.drawImage(d,n,n,e-n*2,e-n*2),{canvas:t,ctx:r}}function U(e,n=0){return C(e,n).canvas.toDataURL("image/png")}function P(e,n=0){return C(e,n).ctx.getImageData(0,0,e,e).data}function B(e,n=0){let r=U(e,n).match(/^data:([\w/\-.]+);base64,(.*)/);return N(r[2])}function O(){let e=[];for(let t of[256,48,32,16]){let r=B(t);e.push({bytes:r,width:t,height:t})}let n=$(e);return`data:image/x-icon;base64,${T(n)}`}function V(){let e=[];for(let{type:t,mask:r,size:i,inset:h}of[{type:"is32",mask:"s8mk",size:16,inset:!1},{type:"il32",mask:"l8mk",size:32,inset:!1},{type:"it32",mask:"t8mk",size:128,inset:!0}]){let l=new Uint8Array(P(i,h?i*3/32:0)),a=i*i,g=new Uint8Array(a),u=new Uint8Array(a),p=new Uint8Array(a),m=new Uint8Array(a);for(let L=0;L<a;L++)g[L]=l[L*4],u[L]=l[L*4+1],p[L]=l[L*4+2],m[L]=l[L*4+3];g=M(g),u=M(u),p=M(p);let k=0;t==="it32"&&(k=4);let E=new Uint8Array(k+g.byteLength+u.byteLength+p.byteLength);E.set(g,k),E.set(u,k+g.byteLength),E.set(p,k+g.byteLength+u.byteLength),e.push({bytes:E,type:t}),e.push({bytes:m,type:r})}for(let{type:t,size:r}of[{type:"ic08",size:256},{type:"ic09",size:512}]){let i=B(r,r*3/32);e.push({bytes:i,type:t})}let n=D(e);return`data:image/x-icns;base64,${T(n)}`}A(),o.addEventListener("input",()=>{b.setAttribute("fill",o.value),A()}),c.addEventListener("input",()=>{y.setAttribute("fill",c.value),A()}),w.addEventListener("click",()=>{o.value="#6c31e3",c.value="#262626",b.setAttribute("fill",o.value),y.setAttribute("fill",c.value),s.selectedIndex=0,A()}),s.addEventListener("change",()=>{let e=s.options[s.selectedIndex],n=e.getAttribute("data-arrow"),t=e.getAttribute("data-background");o.value=n,c.value=t,b.setAttribute("fill",n),y.setAttribute("fill",t),A()}),f.addEventListener("click",()=>{let e=H(),n=H();o.value=e,c.value=n,b.setAttribute("fill",e),y.setAttribute("fill",n),A()}),f.addEventListener("click",()=>{let e=x(0,360),n=x(0,75),t=x(10,65),r=x(0,360),i=x(0,65),h=x(0,95),l=z(e,n,t),a=z(r,i,h);o.value=l,c.value=a,b.setAttribute("fill",l),y.setAttribute("fill",a),A()}),fish("#save-button-png").addEventListener("click",()=>{let e=U(d.naturalWidth);v(e.replace("image/png","image/octet-stream"),"Eighred-icon.png")}),fish("#save-button-svg").addEventListener("click",()=>{v(d.src,"Eighred-icon.svg")}),fish("#save-button-ico").addEventListener("click",()=>{v(O(),"Eighred-icon.ico")}),fish("#save-button-icns").addEventListener("click",()=>{v(V(),"Eighred-icon.icns")});function H(){let e="0123456789ABCDEF",n="#";for(let t=0;t<6;t++)n+=e[Math.floor(Math.random()*16)];return n}function z(e,n,t){let r=G(e,n,t),i=S(r.r),h=S(r.g),l=S(r.b);return`#${i}${h}${l}`}function G(e,n,t){e/=360,n/=100,t/=100;let r,i,h;if(n===0)r=i=h=t;else{let l=(u,p,m)=>(m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?u+(p-u)*6*m:m<.5?p:m<.6666666666666666?u+(p-u)*(.6666666666666666-m)*6:u),a=t<.5?t*(1+n):t+n-t*n,g=2*t-a;r=Math.round(l(g,a,e+1/3)*255),i=Math.round(l(g,a,e)*255),h=Math.round(l(g,a,e-1/3)*255)}return{r,g:i,b:h}}function S(e){let n=e.toString(16);return n.length===1?`0${n}`:n}function x(e,n){let t=n-e+1,r=Math.floor(Math.random()*t);return e+r}function N(e){let n=window.atob(e),t=n.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=n.charCodeAt(i);return r.buffer}function T(e){let n=[],t=e.byteLength;for(let r=0;r<t;r++)n.push(String.fromCharCode(e[r]));return window.btoa(n.join(""))}function M(e){let n=e.length,t=0,r=0,i=[];for(;r<n;){let l=e[r],a=1;for(;r+a<n&&a<130&&e[r+a]===l;)++a;if(a>=3){for(;t<r;){let u=Math.min(r-t,128),p=u-1;i.push(p),i.push(...Array.from(e.slice(t,t+u))),t+=u}let g=a+125;i.push(g),i.push(l),r+=a,t=r}else r+=a}for(;t<r;){let l=Math.min(r-t,128),a=l-1;i.push(a),i.push(...Array.from(e.slice(t,t+l))),t+=l}let h=new Uint8Array(i.length);return h.set(i),h}});})();
